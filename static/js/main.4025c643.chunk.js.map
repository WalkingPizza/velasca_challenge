{"version":3,"sources":["types.tsx","handlers.tsx","ProductCard/ProductCard.tsx","ProductModal/ProductModal.tsx","SearchBar/SearchBar.tsx","Cart/Cart.tsx","Cart/CartDrawer.tsx","App.tsx","index.tsx"],"names":["SortingCriteria","Product","data","id","title","price","category","description","image","this","Number","CartItem","p","q","product","quantity","changeQuantity","handleErrors","response","ok","json","statusText","mapResponseToProducts","map","mapCartToJSON","cart","JSON","stringify","userId","Math","floor","random","date","Date","toISOString","split","products","productId","getAllProducts","a","fetch","then","processCart","method","body","Meta","Card","Paragraph","Typography","ProductCard","onMoreInformationClick","onAddToCart","useState","setQuantity","qty","className","cover","preview","src","ellipsis","rows","expandable","symbol","justify","align","toFixed","onClick","style","marginTop","flexWrap","Group","MinusOutlined","readOnly","value","min","PlusOutlined","type","shape","size","Title","ProductModal","onClose","width","centered","visible","footer","onCancel","lg","span","offset","xs","level","marginBottom","Searchbar","onSearch","placeholder","onChange","e","target","Cart","items","ShoppingCartOutlined","fontSize","reduce","b","Text","CartDrawer","isOpen","onRemoveFromCart","onCheckout","placement","closable","length","strong","i","dataSource","renderItem","Item","avatar","marginRight","Option","Select","App","isLoading","setIsLoading","setCart","modalProduct","setModalProduct","setProducts","searchValue","setSearchValue","categoryFilter","setCategoryFilter","cartDrawerOpen","setCartDrawerOpen","ASC","sortingFilter","setSortingFilter","spinnerIcon","LoadingOutlined","spin","renderProductCard","updateModalProduct","handleAddToCart","toggleDrawer","newCart","some","item","findIndex","handleRemoveFromCart","filter","useEffect","indicator","v","maxTagCount","mode","showArrow","allowClear","indexOf","c","defaultValue","DESC","filteredProducts","toLowerCase","includes","sort","join","filterProducts","r","console","log","undefined","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4025c643.chunk.js","sourcesContent":["export class Product {\r\n  id: number;\r\n  title: string;\r\n  price: number;\r\n  category: string;\r\n  description: string;\r\n  image: string;\r\n\r\n  constructor(data: any) {\r\n    this.id = data.id;\r\n    this.title = data.title;\r\n    this.price = Number(data.price);\r\n    this.category = data.category;\r\n    this.description = data.description;\r\n    this.image = data.image;\r\n  }\r\n}\r\n\r\nexport class CartItem {\r\n  product: Product;\r\n  quantity: number;\r\n\r\n  constructor(p: Product, q = 1) {\r\n    this.product = p;\r\n    this.quantity = q;\r\n  }\r\n\r\n  changeQuantity = (q: number) => {\r\n    this.quantity += q;\r\n  };\r\n}\r\n\r\nexport interface IProductCardProps {\r\n  product: Product;\r\n  onAddToCart: (p: Product, q: number) => void;\r\n  onMoreInformationClick: (p: Product) => void;\r\n}\r\n\r\nexport interface IProductModalProps {\r\n  onClose: () => void;\r\n  onAddToCart: (p: Product) => void;\r\n  product: Product;\r\n}\r\n\r\nexport interface ISearchbarProps {\r\n  onSearch: (v: string) => void;\r\n}\r\n\r\nexport interface ICartProps {\r\n  items: CartItem[];\r\n  onRemoveFromCart: (p: Product) => void;\r\n  onClick: () => void;\r\n}\r\n\r\nexport interface ICartDrawerProps {\r\n  isOpen: boolean;\r\n  onRemoveFromCart: (p: Product) => void;\r\n  onCheckout: () => void;\r\n  onClose: () => void;\r\n  items: CartItem[];\r\n}\r\n\r\nexport enum SortingCriteria {\r\n  ASC = 1,\r\n  DESC = 2,\r\n}\r\n","import { CartItem, Product } from \"./types\";\r\n\r\n/* Error Handling */\r\n\r\nconst handleErrors = (response: any) => {\r\n  return response.ok ? response.json() : response.statusText;\r\n};\r\n\r\nconst mapResponseToProducts = (json: any) => {\r\n  return json.map((p: any) => new Product(p));\r\n};\r\n\r\nconst mapCartToJSON = (cart: CartItem[]) => {\r\n  return JSON.stringify({\r\n    userId: Math.floor(Math.random() * 100),\r\n    date: new Date().toISOString().split(\"T\")[0],\r\n    products: cart.map((p) => ({\r\n      productId: p.product.id,\r\n      quantity: p.quantity,\r\n    })),\r\n  });\r\n};\r\n\r\n/* Products */\r\n\r\nexport const getAllProducts = async () => {\r\n  return fetch(\"https://fakestoreapi.com/products\")\r\n    .then(handleErrors)\r\n    .then(mapResponseToProducts);\r\n};\r\n\r\n/* Cart */\r\n\r\nexport const processCart = async (cart: CartItem[]) => {\r\n  return fetch(\"https://fakestoreapi.com/carts\", {\r\n    method: \"POST\",\r\n    body: mapCartToJSON(cart),\r\n  })\r\n    .then(handleErrors)\r\n    .then((json) => true);\r\n};\r\n","import { Button, Card, Image, Input, InputNumber, Row, Typography } from \"antd\";\r\nimport { PlusOutlined, MinusOutlined } from \"@ant-design/icons\";\r\nimport React, { useState } from \"react\";\r\nimport { IProductCardProps } from \"../types\";\r\n\r\nconst { Meta } = Card;\r\nconst { Paragraph } = Typography;\r\n\r\nfunction ProductCard({\r\n  product,\r\n  onMoreInformationClick,\r\n  onAddToCart,\r\n}: IProductCardProps) {\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  const changeQuantity = (qty: number) => {\r\n    if (!(qty < 0 && quantity === 1)) {\r\n      setQuantity(quantity + qty);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      className=\"product\"\r\n      cover={\r\n        <Image preview={false} className=\"product__image\" src={product.image} />\r\n      }\r\n    >\r\n      <Meta\r\n        title={product.title}\r\n        description={\r\n          <Paragraph ellipsis={{ rows: 2, expandable: false, symbol: \"...\" }}>\r\n            {product.description}\r\n          </Paragraph>\r\n        }\r\n      />\r\n      <Row\r\n        className=\"product__information\"\r\n        justify=\"space-between\"\r\n        align=\"middle\"\r\n      >\r\n        <div className=\"product__price rounded-box\">\r\n          ${product.price.toFixed(2)}\r\n        </div>\r\n        <Button\r\n          className=\"product__more-info rounded-box--secondary\"\r\n          onClick={() => onMoreInformationClick(product)}\r\n        >\r\n          More info\r\n        </Button>\r\n      </Row>\r\n      <Row align=\"middle\" style={{ marginTop: \"5px\", flexWrap: \"nowrap\" }}>\r\n        <Input.Group className=\"product__qty-selector\">\r\n          <Button\r\n            className=\"product__qty-button--minus\"\r\n            onClick={() => changeQuantity(-1)}\r\n          >\r\n            <MinusOutlined />\r\n          </Button>\r\n          <InputNumber\r\n            readOnly\r\n            className=\"product__qty\"\r\n            value={quantity}\r\n            min={1}\r\n          />\r\n          <Button\r\n            className=\"product__qty-button--plus\"\r\n            onClick={() => changeQuantity(1)}\r\n          >\r\n            <PlusOutlined />\r\n          </Button>\r\n        </Input.Group>\r\n        <Button\r\n          className=\"product__cart-button\"\r\n          type=\"primary\"\r\n          shape=\"round\"\r\n          size=\"large\"\r\n          onClick={() => onAddToCart(product, quantity)}\r\n        >\r\n          Add to Cart\r\n        </Button>\r\n      </Row>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default ProductCard;\r\n","import { Col, Image, Modal, Row, Typography } from \"antd\";\r\nimport React from \"react\";\r\nimport { IProductModalProps } from \"../types\";\r\n\r\nconst { Title, Paragraph } = Typography;\r\n\r\nfunction ProductModal({ product, onClose, onAddToCart }: IProductModalProps) {\r\n  return (\r\n    <Modal\r\n      width={1000}\r\n      centered\r\n      visible={true}\r\n      footer={null}\r\n      onCancel={onClose}\r\n    >\r\n      <Row justify=\"space-between\">\r\n        <Col lg={{ span: 6, offset: 0 }} xs={{ span: 12, offset: 6 }}>\r\n          <Image src={product.image} className=\"product-modal__picture\" />\r\n        </Col>\r\n        <Col lg={16} xs={24} className=\"product-modal__content\">\r\n          <Title level={2} style={{ marginBottom: 0 }}>\r\n            {product.title}\r\n          </Title>\r\n          <Title level={5} className=\"product__category\">\r\n            {product.category}\r\n          </Title>\r\n          <Paragraph>{product.description}</Paragraph>\r\n        </Col>\r\n      </Row>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default ProductModal;\r\n","import { Input } from \"antd\";\r\nimport { ISearchbarProps } from \"../types\";\r\n\r\nfunction Searchbar({ onSearch }: ISearchbarProps) {\r\n  return (\r\n    <Input\r\n      size=\"large\"\r\n      className=\"searchbar\"\r\n      placeholder=\"Search a product...\"\r\n      onChange={(e) => onSearch(e.target.value)}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Searchbar;\r\n","import { ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport { Row } from \"antd\";\r\nimport React from \"react\";\r\nimport { CartItem, ICartProps } from \"../types\";\r\n\r\nfunction Cart({ items, onClick }: ICartProps) {\r\n  const countCartItems = () => {\r\n    return items.reduce((a: number, b: CartItem) => a + b.quantity, 0) || 0;\r\n  };\r\n\r\n  return (\r\n    <Row align=\"middle\" justify=\"end\" className=\"cart\" onClick={onClick}>\r\n      <ShoppingCartOutlined className=\"cart__icon\" style={{ fontSize: 30 }} />\r\n      <span className=\"cart__count\">{countCartItems()}</span>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n","import { Drawer, Row, List, Image, Button, Typography, Col } from \"antd\";\r\nimport React from \"react\";\r\nimport { CartItem, ICartDrawerProps } from \"../types\";\r\n\r\nconst { Text, Paragraph } = Typography;\r\n\r\nfunction CartDrawer({\r\n  isOpen,\r\n  items,\r\n  onClose,\r\n  onRemoveFromCart,\r\n  onCheckout,\r\n}: ICartDrawerProps) {\r\n  const calculateSubtotal = () => {\r\n    return items.reduce(\r\n      (a: number, i: CartItem) => a + i.product.price * i.quantity,\r\n      0\r\n    );\r\n  };\r\n\r\n  const renderItem = (i: CartItem) => (\r\n    <List.Item className=\"cart-drawer__product\">\r\n      <List.Item.Meta\r\n        avatar={\r\n          <Image\r\n            className=\"cart-drawer__product-image\"\r\n            src={i.product.image}\r\n            preview={false}\r\n          />\r\n        }\r\n        title={i.product.title}\r\n        description={\r\n          <Paragraph>\r\n            Quantity: {i.quantity}\r\n            <br />\r\n            Price: ${i.product.price.toFixed(2)}\r\n          </Paragraph>\r\n        }\r\n      />\r\n      <Col className=\"cart-drawer__actions\">\r\n        <Text\r\n          strong\r\n          className=\"text--highlight\"\r\n          style={{ fontSize: \"120%\", marginRight: \"10px\" }}\r\n        >\r\n          ${(i.product.price * i.quantity).toFixed(2)}\r\n        </Text>\r\n        <Button\r\n          className=\"cart-drawer__button\"\r\n          type=\"primary\"\r\n          shape=\"round\"\r\n          size=\"large\"\r\n          onClick={() => onRemoveFromCart(i.product)}\r\n        >\r\n          Remove from Cart\r\n        </Button>\r\n      </Col>\r\n    </List.Item>\r\n  );\r\n\r\n  return (\r\n    <Drawer\r\n      className=\"cart-drawer\"\r\n      title=\"Your cart\"\r\n      placement=\"right\"\r\n      closable={true}\r\n      onClose={onClose}\r\n      visible={isOpen}\r\n      footer={\r\n        items.length > 0 && (\r\n          <>\r\n            <Row align=\"middle\" justify=\"space-between\">\r\n              <div className=\"cart-drawer__subtotal\">\r\n                Subtotal:{\" \"}\r\n                <Text strong className=\"text--highlight\">\r\n                  ${calculateSubtotal()}\r\n                </Text>\r\n              </div>\r\n              <Button type=\"primary\" size=\"large\" onClick={onCheckout}>\r\n                Continue to Checkout\r\n              </Button>\r\n            </Row>\r\n          </>\r\n        )\r\n      }\r\n    >\r\n      {(items.length > 0 && (\r\n        <List dataSource={items} renderItem={renderItem} />\r\n      )) || <p>Your cart is empty.</p>}\r\n    </Drawer>\r\n  );\r\n}\r\n\r\nexport default CartDrawer;\r\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.less\";\nimport { CartItem, Product, SortingCriteria } from \"./types\";\nimport { getAllProducts, processCart } from \"./handlers\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { Col, Row, Select, Spin, Typography } from \"antd\";\nimport ProductCard from \"./ProductCard/ProductCard\";\nimport ProductModal from \"./ProductModal/ProductModal\";\nimport Searchbar from \"./SearchBar/SearchBar\";\nimport Cart from \"./Cart/Cart\";\nimport CartDrawer from \"./Cart/CartDrawer\";\n\nconst { Option } = Select;\nconst { Text } = Typography;\n\nfunction App() {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [cart, setCart] = useState<CartItem[]>([]);\n  const [modalProduct, setModalProduct] = useState<Product>();\n  const [products, setProducts] = useState<Product[]>();\n  const [searchValue, setSearchValue] = useState<string>(\"\");\n  const [categoryFilter, setCategoryFilter] = useState<string[]>([]);\n  const [cartDrawerOpen, setCartDrawerOpen] = useState<boolean>(false);\n  const [sortingFilter, setSortingFilter] = useState<SortingCriteria>(\n    SortingCriteria.ASC\n  );\n\n  const spinnerIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\n  const renderProductCard = (p: Product) => {\n    return (\n      <ProductCard\n        key={p.id}\n        product={p}\n        onMoreInformationClick={updateModalProduct}\n        onAddToCart={handleAddToCart}\n      />\n    );\n  };\n\n  const toggleDrawer = () => {\n    setCartDrawerOpen(!cartDrawerOpen);\n  };\n\n  const handleSearch = (v: string) => {\n    setSearchValue(v);\n  };\n\n  const updateModalProduct = (p: Product) => {\n    setModalProduct(p);\n  };\n\n  const handleCloseModal = () => {\n    setModalProduct(undefined);\n  };\n\n  const handleAddToCart = (p: Product, q = 1) => {\n    let newCart;\n\n    if (!cart.some((i) => i.product.id === p.id)) {\n      newCart = [...cart, new CartItem(p, q)];\n    } else {\n      newCart = [...cart];\n      const item = newCart.findIndex((i) => i.product.id === p.id);\n      newCart[item].changeQuantity(q);\n    }\n\n    setCart(newCart);\n    setCartDrawerOpen(true);\n  };\n\n  const handleRemoveFromCart = (p: Product) => {\n    setCart(cart.filter((i) => i.product.id !== p.id));\n  };\n\n  const handleCheckout = () => {\n    processCart(cart).then((r) => console.log(\"Checkout Completed\"));\n  };\n\n  const handleChangeCategoryFilter = (v: string[]) => {\n    setCategoryFilter(v);\n  };\n\n  const handleChangeSortingFilter = (v: SortingCriteria) => {\n    setSortingFilter(v);\n  };\n\n  useEffect(() => {\n    if (!products) {\n      setIsLoading(true);\n      getAllProducts().then((p) => {\n        setProducts(p);\n        setIsLoading(false);\n      });\n    }\n  }, [products]);\n\n  const filterProducts = (sort = null) => {\n    let filteredProducts = products!.filter((p) =>\n      p.title.toLowerCase().includes(searchValue.toLowerCase())\n    );\n    if (categoryFilter.length > 0) {\n      filteredProducts = filteredProducts.filter((p) =>\n        categoryFilter.includes(p.category)\n      );\n    }\n    if (sortingFilter) {\n      filteredProducts = filteredProducts.sort((a, b) =>\n        sortingFilter === SortingCriteria.DESC\n          ? b.price - a.price\n          : a.price - b.price\n      );\n    }\n    return filteredProducts.length > 0 ? (\n      filteredProducts.map(renderProductCard)\n    ) : (\n      <p>\n        No products matching {searchValue}\n        {categoryFilter.length > 0 && ` in ${categoryFilter.join(\", \")}`}.\n      </p>\n    );\n  };\n\n  const getCategories = () => {\n    const categories = products!\n      .map((p) => p.category)\n      .filter((v, i, a) => a.indexOf(v) === i);\n    return categories.map((c, i) => (\n      <Option key={i} value={c}>\n        {c}\n      </Option>\n    ));\n  };\n\n  return (\n    <div\n      className={\n        isLoading\n          ? \"ecomm-container ecomm-container--is-loading\"\n          : \"ecomm-container\"\n      }\n    >\n      {isLoading && <Spin indicator={spinnerIcon} />}\n\n      {products && (\n        <>\n          <Row className=\"header\" justify=\"space-between\">\n            <Col lg={20} xs={18}>\n              <Searchbar onSearch={handleSearch} />\n            </Col>\n            <Col span={4}>\n              <Cart\n                items={cart}\n                onRemoveFromCart={handleRemoveFromCart}\n                onClick={toggleDrawer}\n              />\n            </Col>\n          </Row>\n          <Row className=\"filters\" justify=\"space-between\">\n            <Col lg={10} xs={24}>\n              <Select\n                maxTagCount=\"responsive\"\n                mode=\"tags\"\n                placeholder=\"Filter by Category\"\n                onChange={handleChangeCategoryFilter}\n                showArrow\n                allowClear\n                className=\"filters__category\"\n              >\n                {getCategories()}\n              </Select>\n            </Col>\n            <Col lg={{ span: 9, offset: 1 }} xs={24}>\n              <Row\n                align=\"middle\"\n                justify=\"end\"\n                className=\"filters__row--second\"\n              >\n                <Text style={{ marginRight: \"10px\" }}>Sort by Price</Text>\n                <Select\n                  onChange={handleChangeSortingFilter}\n                  showArrow\n                  allowClear\n                  className=\"filters__sorting\"\n                  defaultValue={sortingFilter}\n                >\n                  <Option value={SortingCriteria.ASC} key={SortingCriteria.ASC}>\n                    Ascending\n                  </Option>\n                  <Option\n                    value={SortingCriteria.DESC}\n                    key={SortingCriteria.DESC}\n                  >\n                    Descending\n                  </Option>\n                </Select>\n              </Row>\n            </Col>\n          </Row>\n          <Row className=\"product-container\" align=\"stretch\">\n            {products && filterProducts()}\n          </Row>\n          <CartDrawer\n            isOpen={cartDrawerOpen}\n            onClose={toggleDrawer}\n            onRemoveFromCart={handleRemoveFromCart}\n            items={cart}\n            onCheckout={handleCheckout}\n          />\n        </>\n      )}\n\n      {modalProduct && (\n        <ProductModal\n          product={modalProduct}\n          onClose={handleCloseModal}\n          onAddToCart={handleAddToCart}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}